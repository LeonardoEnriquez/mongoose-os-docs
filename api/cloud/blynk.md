
Blynk API.

This library supports only a subset of Blynk protocol - namely, virtual
pin reading and virtual pin writing. That is enough to implement a very
wide class of applications.
 
### Github repo links
| Github Repo | C Header | C source  | JS source |
| ----------- | -------- | --------  | ----------------- |
| [mongoose-os-libs/blynk](https://github.com/mongoose-os-libs/blynk) | &nbsp; | &nbsp;  | &nbsp;         |


### C/ะก++ API
#### (*blynk_handler_t)

```c
typedef void (*blynk_handler_t)(struct mg_connection *, const char *cmd,
                                int pin, int val, int id, void *user_data);
```
 Blynk event handler signature. 
#### blynk_set_handler

```c
void blynk_set_handler(blynk_handler_t func, void *user_data);
```
 Set Blynk event handler. 
#### blynk_send

```c
void blynk_send(struct mg_connection *c, uint8_t type, uint16_t id,
                const void *data, uint16_t len);
```
 Send data to the Blynk server. `data`, `len` holds a message to send. 
#### blynk_printf

```c
void blynk_printf(struct mg_connection *c, uint8_t type, uint16_t id,
                  const char *fmt, ...);
```
 Same as as `blynk_send()`, formats message using `printf()` semantics. 
#### blynk_virtual_write

```c
void blynk_virtual_write(struct mg_connection *c, int pin, float val, int id);
```
 Send a virtual write command 

### JS API
#### Blynk.send

```javascript
Blynk.send(conn, type, msg, id)
```
Send raw message to Blynk server.

`conn` is a network connection which is passed to the handler registered
with `Blynk.setHandler`. `type` is one of the following:

- `Blynk.TYPE_RESPONSE`
- `Blynk.TYPE_LOGIN`
- `Blynk.TYPE_PING`
- `Blynk.TYPE_HARDWARE`

`msg` is a string with the data to send. `id` is the internal blynk
message id; if undefined it will be autogenerated.

Return value: none.
Example:
```javascript
// Send "virtual write" command manually: write "1" to pin "16"
Blynk.send(conn, Blynk.TYPE_HARDWARE, 'vw\x0016\x001');
```
#### Blynk.virtualWrite

```javascript
Blynk.virtualWrite(conn, pin, val, id)
```
Write to the virtual pin. If id is undefined, it will be autogenerated.
This is a helper function that uses `Blynk.send()`.
Return value: none.
Example:
```javascript
// Send "virtual write" command: write "1" to pin "16"
Blynk.virtualWrite(conn, 16, 1);
```
#### Blynk.setHandler

```javascript
Blynk.setHandler(handler, userdata)
```
Set handler for the virtual pin reads / writes.

Example:
```javascript
Blynk.setHandler(function(conn, cmd, pin, val, id) {
  print(cmd, pin, val);
}, null);
```
